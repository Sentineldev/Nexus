<div>
    <app-custom-dialog [dialogId]="dialogId">
        <div class="bg-white shadow p-4 rounded-xl m-auto w-full lg:w-[380px]">
            <div class="flex flex-col gap-6">
                <div class="flex flex-col gap-4">
                    <h1 class="text-center text-[1.2rem] font-sans text-cyan-500">Crear Producto</h1>
                    @if (errorMessage().length > 0 || successMessage().length > 0) {
                        @if (errorMessage().length > 0) {
                            <app-error-alert [message]="errorMessage()"/>
                        }
                        @if (successMessage().length > 0) {
                            <app-success-alert [message]="successMessage()"/>
                        }
                    }
                </div>
                <div>
                    <form (ngSubmit)="onSubmitHandler()" [formGroup]="formGroup" class="flex flex-col gap-6">
                        <div class="flex flex-col gap-4">
                            <div>
                                <label for="name" class="flex flex-col gap-1">
                                    <p class="text-slate-700">Nombre</p>
                                    <input formControlName="name" type="text" name="name" id="name" class="border rounded p-1">
                                </label>
                                @if (formGroup.dirty && formGroup.controls.name.dirty && formGroup.controls.name.getError("required")) {
                                    <p class="text-red-500">Ingrese el nombre</p>
                                }
                            </div>
                            <div>
                                <label for="description" class="flex flex-col gap-1">
                                    <p class="text-slate-700">Descripcion</p>
                                    <input formControlName="description" formcon type="text" name="description" id="description" class="border rounded p-1">
                                </label>
                                @if ( formGroup.dirty && formGroup.controls.description.dirty && formGroup.controls.description.getError("required")) {
                                    <p class="text-red-500">Ingrese la descripcion</p>
                                }
                            </div>
                        </div>
                        
                        <div>
                            <button [disabled]="loading()" class="bg-cyan-500 text-white w-full p-2 rounded font-sans text-[1.1rem]">Registrar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </app-custom-dialog>
    <app-dialog-toggler [dialogId]="dialogId">
        <div class="bg-cyan-500 p-2 text-white rounded-lg border-none">
            <h1>Crear</h1>
        </div>
    </app-dialog-toggler>
</div>